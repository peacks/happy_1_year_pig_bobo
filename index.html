<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pig Bobo's Birthday Surprise</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    >
    <style>
        body {
            font-family: 'Pacifico', cursive, sans-serif;
            background-color: #ffe6f0;
            text-align: center;
            padding: 20px;
            margin: 0;
            color: #333;
            background-image: url('images/flowers.png');
            background-size: cover;
            background-attachment: fixed;
        }
        h1 {
            color: #e91e63;
            font-size: 28px;
            margin-bottom: 10px;
        }
        p {
            font-size: 18px;
            margin: 10px 0;
        }
        .avatar-container {
            margin: 20px auto;
        }
        #avatar {
          max-height: 65vh;      /* avatar will never exceed 65% of the viewport height */
          width: auto;           /* scale width to maintain aspect ratio */
          margin: 20px auto;     /* give it a little breathing room top/bottom */
          transition: transform 0.2s;
        }
        #avatar:hover {
            transform: scale(1.1);
        }
        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #ff69b4;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #d81b60;
        }
        @media (max-width: 600px) {
            h1 {
                font-size: 24px;
            }
            p {
                font-size: 16px;
            }
            #avatar {
                width: 120px;
            }
            button {
                font-size: 14px;
                padding: 8px 16px;
            }
        }

        .counter-container {
          display: flex;
          justify-content: center;
          gap: 20px;
          margin: 20px 0;
        }
        .counter {
          background: rgba(255, 255, 255, 0.8);
          padding: 12px 18px;
          border-radius: 12px;
          min-width: 120px;
        }
        .counter h2 {
          margin: 0;
          font-size: 16px;
          color: #e91e63;
        }
        .counter p {
          font-size: 24px;
          font-weight: bold;
          margin: 4px 0 0;
        }
        
        .todo-container {
          text-align: left;
          max-width: 320px;
          margin: 30px auto;
          background: rgba(255,255,255,0.8);
          padding: 16px;
          border-radius: 12px;
        }
        .todo-container h2 {
          font-size: 18px;
          color: #e91e63;
          margin-bottom: 8px;
        }
        .todo-container ul {
          list-style: none;
          padding: 0;
        }
        .todo-container li {
          margin-bottom: 8px;
        }
        .todo-container label {
          cursor: pointer;
          font-size: 16px;
        }
        .todo-container input[type="checkbox"] {
          margin-right: 8px;
          transform: scale(1.2);
        }
    </style>
</head>
<body>
    <h1>Happy Birthday, Pig Bobo!</h1>
    <p>Tap my avatar or the buttons below to hear my voice!</p>
    <div class="avatar-container">
        <img id="avatar" src="images/Default_egg.png" alt="Cartoon Avatar" onclick="playGeneralMessage()">
    </div>
    <div class="button-container">
        <button onclick="playMessage('benaughty')">Be Naughty</button>
        <button onclick="playMessage('callmyname')">Call My Name</button>
        <button onclick="playMessage('egglanguage')">Egg Language</button>
        <button onclick="playMessage('goodmorning')">Good Morning</button>
        <button onclick="playMessage('goodnight')">Good Night</button>
        <button onclick="playMessage('praiseme')">Praise Me</button>
        <button onclick="playMessage('singforme')">Sing For Me</button>
    </div>
    
    <!-- ─── Relationship Counters ─── -->
    <div id="counters" class="counter-container">
    <div class="counter">
        <h2>Days Together</h2>
        <p id="days-together">—</p>
            </div>
            <div class="counter">
              <h2>Days Until Wedding</h2>
              <p id="days-until-wedding">—</p>
            </div>
    </div>

    
    <!-- ─── To-Do Lists ─── -->
    <div id="todo-lists" class="todo-container">
        <h2>Daily To-Dos</h2>
        <ul>
          <li><label><input type="checkbox" id="todo-water"> Drink 2 L of water</label></li>
          <li><label><input type="checkbox" id="todo-poop"> Did you poop?</label></li>
          <li><label><input type="checkbox" id="todo-miss"> Did you miss me?</label></li>
        </ul>
    
        <h2>Before Bed</h2>
        <ul>
          <li><label><input type="checkbox" id="todo-contacts"> Remove contacts</label></li>
          <li><label><input type="checkbox" id="todo-makeup"> Remove makeup</label></li>
          <li><label><input type="checkbox" id="todo-blanket"> Put on blanket</label></li>
          <li><label><input type="checkbox" id="todo-lights"> Turn off the lights</label></li>
          <li><label><input type="checkbox" id="todo-dryhair"> Dry your hair</label></li>
        </ul>
    </div>
    
    <audio id="player"></audio>
    
    <script>
        const audioFiles = {
            benaughty: ['audio/benaughty/message1.mp3'],
            callmyname: ['audio/callmyname/message1.mp3'],
            egglanguage: ['audio/egglanguage/message3.mp3'],
            general: [
                'audio/general/message1.mp3',
                'audio/general/message2.mp3',
                'audio/general/message3.mp3',
                'audio/general/message4.mp3',
                'audio/general/message5.mp3',
                'audio/general/message6.mp3',
                'audio/general/message7.mp3',
                'audio/general/message8.mp3',],
            goodmorning: ['audio/goodmorning/message4.mp3'],
            goodnight: ['audio/goodnight/message5.mp3'],
            praiseme: ['audio/praiseme/message7.mp3'],
            singforme: ['audio/singforme/message8.mp3']
        };

        const avatarImages = {
            benaughty: 'images/naughty_egg.png',
            callmyname: 'images/Say_name_egg.png',
            egglanguage: 'images/egg_language.png',
            general: 'images/Default_egg.png',
            goodmorning: 'images/Good_morning_egg.png',
            goodnight: 'images/Sleeping_egg.png',
            praiseme: 'images/Praise_me_egg.png',
            singforme: 'images/Singing_egg.png'
        };

        function playGeneralMessage() {
            playMessage('general');
        }

        function playMessage(type) {
            const messages = audioFiles[type];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            const player = document.getElementById('player');
            player.onerror = () => console.error('Audio load error for', player.src);
            const avatar = document.getElementById('avatar');

            avatar.src = avatarImages[type];

            player.src = randomMessage;
            player.play().catch(error => {
                console.error('Playback failed:', error);
            });
        }
        function updateCounters() {
          const MS_PER_DAY = 1000 * 60 * 60 * 24;
          // Define the start & end in Hong Kong time (UTC+8)
          const togetherStart = new Date("2024-06-22T00:00:00+08:00");
          const weddingDay   = new Date("2030-06-22T00:00:00+08:00");
          const now = new Date();
        
          // 1) Days Together (inclusive)
          const diffTogether = now - togetherStart;
          const daysTogether = Math.floor(diffTogether / MS_PER_DAY) + 1;
          document.getElementById("days-together").textContent = daysTogether;
        
          // 2) Days Until Wedding (exclusive)
          const diffUntil = weddingDay - now;
          const daysUntil  = Math.ceil(diffUntil / MS_PER_DAY);
          document.getElementById("days-until-wedding").textContent = daysUntil;
        }
        
            // Run on load, then update every hour
        window.addEventListener("load", () => {
              updateCounters();
              setInterval(updateCounters, 1000 * 60 * 60);
        });

    </script>
</body>
</html>
